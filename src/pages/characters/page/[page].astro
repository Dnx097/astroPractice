---
import Layout from "../../../layouts/Layout.astro";
import Card from "../../../components/Card.astro";
export async function getStaticPaths() {
  return [
    { params: { page: 1 } },
    { params: { page: 2 } },
    { params: { page: 3 } },
    { params: { page: 4 } },
    { params: { page: 5 } },
    { params: { page: 6 } },
    { params: { page: 7 } },
    { params: { page: 8 } },
    { params: { page: 9 } },
    { params: { page: 10 } },
    { params: { page: 11 } },
    { params: { page: 12 } },
    { params: { page: 13 } },
    { params: { page: 14 } },
    { params: { page: 15 } },
    { params: { page: 16 } },
    { params: { page: 17 } },
    { params: { page: 18 } },
    { params: { page: 19 } },
    { params: { page: 20 } },
    { params: { page: 21 } },
    { params: { page: 22 } },
    { params: { page: 23 } },
    { params: { page: 24 } },
    { params: { page: 25 } },
    { params: { page: 26 } },
    { params: { page: 27 } },
    { params: { page: 28 } },
    { params: { page: 29 } },
    { params: { page: 30 } },
    { params: { page: 31 } },
    { params: { page: 32 } },
    { params: { page: 33 } },
    { params: { page: 34 } },
    { params: { page: 35 } },
    { params: { page: 36 } },
    { params: { page: 37 } },
    { params: { page: 38 } },
    { params: { page: 39 } },
    { params: { page: 40 } },
    { params: { page: 41 } },
    { params: { page: 42 } },
  ];
}

import "../../../styles/AllCharacters.scss";

const { page } = Astro.params;

const response = await fetch(
  `https://rickandmortyapi.com/api/character?page=${page}`
);
const characters = await response.json();
---

<Layout title="Todos los personajes">
  <section class="allCharacters_container">
    {
      characters.results.map((character) => (
        <Card
          id={character.id}
          name={character.name}
          image={character.image}
          gender={character.gender}
          created={character.created}
          status={character.status}
          species={character.species}
          url={character.url}
          type={character.type}
          origin={character.origin}
          location={character.location}
          episode={character.episode}
        />
      ))
    }
  </section>
</Layout>
